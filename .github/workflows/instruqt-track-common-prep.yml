# Copyright (c) HashiCorp, Inc.
# SPDX-License-Identifier: MPL-2.0
name: hashicorp/field-workshops-consul/instruqt-track-common-prep
on:
  workflow_call:
    inputs:
      INSTRUQT_CLI_URI:
        required: true
        type: string
jobs:
  prep-env:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout Source
      id: checkout-source
      uses: actions/checkout@ac593985615ec2ede58e132d2e21d2b1cbd6127c
    - name: Get Instruqt CLI
      id: get-instruqt-cli
      run: |-
        curl -Lo instruqt.zip ${{ inputs.INSTRUQT_CLI_URI }}
        unzip instruqt.zip
        mkdir -p ${HOME}/.local/bin/
        mv instruqt ${HOME}/.local/bin/
        chmod +x ${HOME}/.local/bin/instruqt
        echo "${HOME}/.local/bin" >> ${GITHUB_PATH}
